<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:viewModels="clr-namespace:ZakYip.Singulation.MauiApp.ViewModels"
             x:Class="ZakYip.Singulation.MauiApp.Views.MainPage"
             x:DataType="viewModels:MainViewModel">
    <ScrollView>
        <VerticalStackLayout Spacing="12" Padding="24">
            <Label Text="Singulation 控制" FontSize="24" FontAttributes="Bold" />
            <Label Text="基础连接" FontAttributes="Bold" />
            <Entry Placeholder="API 根地址" Text="{Binding BaseAddress}" />
            <Button Text="刷新控制器状态"
                    Command="{Binding RefreshControllerCommand}" />
            <Label Text="{Binding ControllerStatus}" />
            <Label Text="安全管线" FontAttributes="Bold" />
            <Picker Title="安全命令" ItemsSource="{Binding SafetyCommands}" SelectedItem="{Binding SelectedSafetyCommand}" />
            <Entry Placeholder="原因（可选）" Text="{Binding SafetyReason}" />
            <Button Text="发送安全命令" Command="{Binding SendSafetyCommand}" />
            <Label Text="{Binding LastOperation}" />
            <Label Text="SignalR 预览" FontAttributes="Bold" />
            <Label Text="{Binding SignalRStatus}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
